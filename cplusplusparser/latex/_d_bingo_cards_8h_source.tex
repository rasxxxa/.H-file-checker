\doxysection{DBingo\+Cards.\+h}
\hypertarget{_d_bingo_cards_8h_source}{}\label{_d_bingo_cards_8h_source}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*****************************************************************************}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ BingoCards\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ ***************************\ \ \ (c)\ by\ Hofstetter\ \ \ ***************************/}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{comment}{/***************************\ \ \ K\ O\ M\ M\ E\ N\ T\ A\ R\ \ \ ***************************}}
\DoxyCodeLine{00008\ \textcolor{comment}{}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ class\ for\ bingocards}}
\DoxyCodeLine{00010\ \textcolor{comment}{}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ *****************************************************************************/}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{comment}{//****************************************************************************}}
\DoxyCodeLine{00017\ \textcolor{comment}{//\ class\ bingocards}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{comment}{//-\/-\/\ structure\ for\ detailed\ win\ information}}
\DoxyCodeLine{00021\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct}}
\DoxyCodeLine{00022\ \{\ uchar\ ucCard;}
\DoxyCodeLine{00023\ \ \ uchar\ ucDrawnNumber;}
\DoxyCodeLine{00024\ \ \ ulong\ ulWinPattern;}
\DoxyCodeLine{00025\ \ \ ulong\ ulSoundLength;}
\DoxyCodeLine{00026\ \ \ \textcolor{keywordtype}{bool}\ bFlash;}
\DoxyCodeLine{00027\ \}\ \mbox{\hyperlink{struct_s_h_o_w_p_a_t_t_e_r_n}{SHOWPATTERN}};}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \textcolor{comment}{//****************************************************************************}}
\DoxyCodeLine{00031\ \textcolor{comment}{//\ Klasse\ BingoKarten}}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_c_d_bingo_cards}{CDBingoCards}}}
\DoxyCodeLine{00034\ \{}
\DoxyCodeLine{00035\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00036\ \ \ \textcolor{comment}{//-\/-\/\ Number\ of\ cards.}}
\DoxyCodeLine{00037\ \ \ \textcolor{keyword}{enum}\ \{\ NumberOfCards=4\ \};}
\DoxyCodeLine{00038\ \ \ \textcolor{keyword}{enum}\ \{\ NumberOfCardNumbers=90\ \};}
\DoxyCodeLine{00039\ \ \ \textcolor{keyword}{enum}\ \{\ Jokerball=NumberOfCardNumbers\ \};}
\DoxyCodeLine{00040\ \ \ \textcolor{keyword}{enum}\ \{\ NumberOfAllCardNumbers=NumberOfCards*CDBingoCard::NumberOfCardElements\ \};}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \ \ \textcolor{comment}{//-\/-\/\ number\ of\ numbers\ to\ draw.}}
\DoxyCodeLine{00043\ \ \ \textcolor{keyword}{enum}\ \{\ NumberOfDrawnBingoIn30=30,\ NumberOfDrawnNumbers=30\ \};}
\DoxyCodeLine{00044\ \ \ \textcolor{keyword}{enum}\ \{\ NumberOfExtraDrawnNumbers=11\ \};}
\DoxyCodeLine{00045\ \ \ \textcolor{keyword}{enum}\ \{\ MaxNumberOfDrawnNumbers=NumberOfDrawnNumbers+NumberOfExtraDrawnNumbers\ \};}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \textcolor{comment}{//-\/-\/\ Constructor:\ Creates\ the\ cards.}}
\DoxyCodeLine{00048\ \ \ \mbox{\hyperlink{class_c_d_bingo_cards}{CDBingoCards}}();}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ \textcolor{comment}{//-\/-\/\ Destructor.}}
\DoxyCodeLine{00051\ \ \ \mbox{\hyperlink{class_c_d_bingo_cards}{\string~CDBingoCards}}();}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \textcolor{comment}{//-\/-\/\ sets\ win\ table\ for\ configuration}}
\DoxyCodeLine{00054\ \ \ \textcolor{keywordtype}{void}\ SetWinTable(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \textcolor{comment}{//-\/-\/\ returns\ true\ when\ win\ pattern\ is\ used\ in\ set\ configuration}}
\DoxyCodeLine{00057\ \ \ \textcolor{keywordtype}{bool}\ IsWinPatternUsed(uchar\ ucWin);}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \ \ \textcolor{comment}{//-\/-\/\ returns\ number\ of\ winpattern}}
\DoxyCodeLine{00060\ \ \ uchar\ NumberOfWinningPattern(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \textcolor{comment}{//-\/-\/\ returns\ winplan\ position\ for\ given\ win}}
\DoxyCodeLine{00063\ \ \ uchar\ GetWinPlanPosition(uchar\ ucWin);}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \textcolor{comment}{//-\/-\/\ sets\ a\ card\ with\ given\ numbers}}
\DoxyCodeLine{00066\ \ \ \textcolor{keywordtype}{void}\ SetCard(uchar\ ucCard,\ uchar\ aucNumber[CDBingoCard::NumberOfCardElements]);}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \textcolor{comment}{//-\/-\/\ resets\ card\ \ (remove\ element\ stati)}}
\DoxyCodeLine{00069\ \ \ \textcolor{keywordtype}{void}\ ResetCard(uchar\ ucCard);}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \textcolor{comment}{//-\/-\/\ set/get\ card\ state\ for\ card}}
\DoxyCodeLine{00072\ \ \ \textcolor{keywordtype}{void}\ SetCardState(uchar\ ucCard,\ uchar\ ucState);}
\DoxyCodeLine{00073\ \ \ uchar\ GetCardState(uchar\ ucCard);}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \ \ \textcolor{comment}{//-\/-\/\ checks\ if\ bingo\ in\ 30\ is\ possible\ for\ given\ card}}
\DoxyCodeLine{00076\ \ \ \textcolor{keywordtype}{bool}\ IsBingoWithIn30Possible(uchar\ ucCard);}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \textcolor{comment}{//-\/-\/\ checks\ if\ there\ is\ any\ inactive\ card}}
\DoxyCodeLine{00079\ \ \ \textcolor{keywordtype}{bool}\ IsInactiveCards();}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \textcolor{comment}{//-\/-\/\ set\ drawn\ numbers}}
\DoxyCodeLine{00082\ \ \ \textcolor{keywordtype}{void}\ SetDrawnNumbers(uchar\ aucDrawn[CDBingoCards::MaxNumberOfDrawnNumbers],\ }
\DoxyCodeLine{00083\ \ \ uchar\ ucDrawn,\ \textcolor{keywordtype}{bool}\ bEvaluate);}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \textcolor{comment}{//-\/-\/\ set\ the\ jokerball}}
\DoxyCodeLine{00086\ \ \ \textcolor{keywordtype}{void}\ SetDrawnJokerball(uchar\ ucDrawn,\ uchar\ ucNumber);}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \ \ \textcolor{comment}{//-\/-\/\ sets\ current\ card\ bet}}
\DoxyCodeLine{00089\ \ \ \textcolor{keywordtype}{void}\ SetCardsBet(uchar\ ucCard,\ CGameValue\ gvBet);}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ \textcolor{comment}{//-\/-\/\ returns\ total\ cards\ bet}}
\DoxyCodeLine{00092\ \ \ CGameValue\ GetTotalCardsBet(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ \textcolor{comment}{//-\/-\/\ returns\ card\ for\ given\ number}}
\DoxyCodeLine{00095\ \ \ uchar\ GetCardForNumber(uchar\ ucNumber);}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ \ \ \textcolor{comment}{//-\/-\/\ sets\ expected\ elements}}
\DoxyCodeLine{00098\ \ \ \textcolor{keywordtype}{void}\ CardSetExpectedElements(uchar\ ucCard,\ ulong\ aulWin[CDBingoCard::NumberOfCardElements]);}
\DoxyCodeLine{00099\ \ \ \textcolor{keywordtype}{void}\ CardGetExpectedElements(uchar\ ucCard,\ ulong\ aulWin[CDBingoCard::NumberOfCardElements]);}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \textcolor{comment}{//-\/-\/\ returns\ an\ expected\ win\ value\ for\ already\ drawn\ numbers}}
\DoxyCodeLine{00102\ \ \ ulong\ GetExpectedWinValue();}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \textcolor{comment}{//-\/-\/\ sets\ win\ pattern\ for\ card}}
\DoxyCodeLine{00105\ \ \ \textcolor{keywordtype}{void}\ CardSetCurrentWinPattern(uchar\ ucCard,\ ulong\ ulWinPattern);}
\DoxyCodeLine{00106\ \ \ \textcolor{keywordtype}{void}\ CardGetCurrentWinPattern(uchar\ ucCard,\ ulong\ \&ulWinPattern);}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \textcolor{comment}{//-\/-\/\ returns\ new\ winpattern\ for\ given\ card}}
\DoxyCodeLine{00109\ \ \ \textcolor{keywordtype}{bool}\ CardGetNewWinPattern(uchar\ ucCard,\ ulong\ ulCurrentWinPattern,\ \mbox{\hyperlink{struct_s_h_o_w_p_a_t_t_e_r_n}{SHOWPATTERN}}\ \&showPattern);}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \textcolor{comment}{//-\/-\/\ marks\ win\ on\ card}}
\DoxyCodeLine{00112\ \ \ \textcolor{keywordtype}{void}\ CardMarkWin(uchar\ ucCard,\ ulong\ ulWinPattern);}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00114\ \ \ \textcolor{comment}{//-\/-\/\ marks\ a\ given\ number}}
\DoxyCodeLine{00115\ \ \ \textcolor{keywordtype}{void}\ MarkNumber(uchar\ ucNumber,\ uchar\ ucMarkType,\ uchar\ ucDrawnPos);}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ \textcolor{comment}{//-\/-\/\ calulates\ extra\ ball\ values\ (bet\ factor,\ jokerball)}}
\DoxyCodeLine{00118\ \ \ ulong\ CalculateExtraball(ushort\ usOdds,\ ulong\ \&ulBetFactor,\ \textcolor{keywordtype}{bool}\ \&bJokerball);}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \ \ \textcolor{comment}{//-\/-\/\ returns\ true\ when\ extra\ ball\ is\ offerd}}
\DoxyCodeLine{00121\ \ \ \textcolor{keywordtype}{bool}\ ExtraballOffered(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \ \ \textcolor{comment}{//-\/-\/\ returns\ the\ odds\ to\ use\ for\ extra\ balls}}
\DoxyCodeLine{00124\ \ \ ushort\ GetExtraBallOdds(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \ \ \textcolor{comment}{//-\/-\/\ returns\ true\ when\ bet\ limitation\ is\ not\ reached}}
\DoxyCodeLine{00127\ \ \ \textcolor{keywordtype}{bool}\ IsWithinBetLimitation(CGameValue\ gvCardBet,\ CGameValue\ gvAccumulatedBet);}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00129\ \ \ \textcolor{comment}{//-\/-\/\ returns\ the\ factor\ for\ a\ given\ win}}
\DoxyCodeLine{00130\ \ \ ulong\ GetFactor(uchar\ ucCard,\ \textcolor{keyword}{const}\ CGameValue\&\ gvBet,\ uchar\ ucWin,\ \textcolor{keywordtype}{bool}\ bBingoIn30\ =\ \textcolor{keyword}{false},\ uchar\ ucNextExtraball\ =\ 0);}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \ \ \textcolor{comment}{//-\/-\/\ returns\ the\ bingo\ in\ 30\ factor}}
\DoxyCodeLine{00133\ \ \ ulong\ GetBingoIn30Factor(\textcolor{keywordtype}{bool}\ bJackpot);}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \ \ uchar\ GetDrawnNumbers(uchar\ aucDrawn[CDBingoCards::MaxNumberOfDrawnNumbers]);}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00137\ \ \ \textcolor{comment}{//-\/-\/\ set/get\ for\ service\ (\ necessary\ to\ show\ correct\ bingo/jackpot\ win)}}
\DoxyCodeLine{00138\ \ \ \textcolor{keywordtype}{void}\ SetService(uchar\ ucService);}
\DoxyCodeLine{00139\ \ \ \textcolor{keywordtype}{bool}\ IsService(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \ \ \textcolor{comment}{//-\/-\/\ set/get\ the\ marked\ jokerball\ (only\ necessary\ if\ no\ touchscreen\ is\ available\ to\ step\ through\ possible\ Jokerballs)}}
\DoxyCodeLine{00142\ \ \ \textcolor{keywordtype}{void}\ SetMarkedJokerball(uchar\ ucMarkedJokerball);}
\DoxyCodeLine{00143\ \ \ uchar\ GetMarkedJokerball();}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00145\ \ \ \textcolor{comment}{//-\/-\/\ Returns\ a\ reference\ to\ a\ card\ definition.}}
\DoxyCodeLine{00146\ \ \ \textcolor{comment}{//\ \ \ ucCard\ ...\ card\ number}}
\DoxyCodeLine{00147\ \ \ \textcolor{comment}{//\ \ \ return\ ...\ reference}}
\DoxyCodeLine{00148\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_c_d_bingo_card}{CDBingoCard}}\ \&GetCard(uchar\ ucCard)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \ \ \textcolor{comment}{//-\/-\/\ Dumps\ information\ for\ a\ reel\ assignment.}}
\DoxyCodeLine{00151\ \ \ \textcolor{keywordtype}{void}\ DumpCards(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00153\ \ \ \textcolor{comment}{//-\/-\/\ returns\ a\ winpattern\ structure\ for\ the\ given\ win}}
\DoxyCodeLine{00154\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ GetWinPattern(uchar\ ucWin,\ ulong\ \&ulPattern);}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00156\ \ \ \textcolor{comment}{//-\/-\/\ checks\ if\ patternExists\ is\ included\ in\ patternSearch}}
\DoxyCodeLine{00157\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ PatternExistsIn(ulong\ ulPatternExists,\ ulong\ ulPatternSearch);}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00159\ \ \ \textcolor{comment}{//-\/-\/\ wintable\ -\/\ win/factor/type\ and\ position\ on\ winplan}}
\DoxyCodeLine{00160\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct}}
\DoxyCodeLine{00161\ \ \ \{\ uchar\ ucWinplanPos;}
\DoxyCodeLine{00162\ \ \ \ \ uchar\ ucWin;}
\DoxyCodeLine{00163\ \ \ \ \ ulong\ ulFactor;}
\DoxyCodeLine{00164\ \ \ \ \ uchar\ ucWinType;}
\DoxyCodeLine{00165\ \ \ \}\ \mbox{\hyperlink{struct_c_d_bingo_cards_1_1_w_i_n_t_a_b_l_e}{WINTABLE}};}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00167\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00168\ \ \ \textcolor{keyword}{static}\ uint\ m\_unConstructed;}
\DoxyCodeLine{00169\ \ \ \mbox{\hyperlink{class_c_d_bingo_card}{CDBingoCard}}\ m\_aCard[NumberOfCards];}
\DoxyCodeLine{00170\ \ \ uchar\ m\_aucDrawn[CDBingoCards::MaxNumberOfDrawnNumbers];}
\DoxyCodeLine{00171\ \ \ uchar\ m\_ucDrawn;}
\DoxyCodeLine{00172\ \ \ uchar\ m\_ucService;}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00174\ \ \ \mbox{\hyperlink{struct_c_d_bingo_cards_1_1_w_i_n_t_a_b_l_e}{WINTABLE}}\ *m\_pWinTable;}
\DoxyCodeLine{00175\ \ \ ushort\ m\_usNumberOfUsedWinPattern;}
\DoxyCodeLine{00176\ \ \ uchar\ m\_ucMarkedJokerball;}
\DoxyCodeLine{00177\ }
\DoxyCodeLine{00178\ \ \ \textcolor{keyword}{static}\ ulong\ CalculateCombinationNumber(\textcolor{keyword}{const}\ ushort\ ausCombination[CDBingoCard::NumberOfCardElements]);}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \ \ \textcolor{comment}{//\ prevent\ copy\ constructor\ and\ assignment\ operator}}
\DoxyCodeLine{00181\ \ \ \mbox{\hyperlink{class_c_d_bingo_cards}{CDBingoCards}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_c_d_bingo_cards}{CDBingoCards}}\ \&);}
\DoxyCodeLine{00182\ \ \ \mbox{\hyperlink{class_c_d_bingo_cards}{CDBingoCards}}\ \&operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_c_d_bingo_cards}{CDBingoCards}}\ \&);}
\DoxyCodeLine{00183\ \};}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00186\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00188\ \textcolor{comment}{}}
\DoxyCodeLine{00189\ \textcolor{keyword}{extern}\ \mbox{\hyperlink{class_c_d_bingo_cards}{CDBingoCards}}\ *g\_pdBingoCards;}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ }
\DoxyCodeLine{00193\ \textcolor{comment}{//****************************************************************************}}

\end{DoxyCode}
